# EDA-Q Assistant 使用指南

> 专为 EDA-Q 量子芯片设计工具打造的智能 AI 代码助手

---

## 📖 目录

- [快速开始](#快速开始)
- [安装插件](#安装插件)
- [配置设置](#配置设置)
- [切换语言](#切换语言)
- [使用方法](#使用方法)
- [常见问题](#常见问题)

---

## 🚀 快速开始

### 三步开始使用

1. **安装插件** - 将 VSIX 文件安装到 VSCode
2. **配置 API Key** - 在设置中填入LLM API Key
3. **开始使用** - 点击侧边栏图标,开始对话!

---

## 📦 安装插件

### 步骤 1: 获取安装文件

从 `edaq-assistant-mvp`文件夹获取 `edaq-assistant-x.x.x.vsix` 文件。

### 步骤 2: 在 VSCode 中安装

#### 方法一: 通过命令面板 (推荐)

1. 打开 VSCode
2. 按快捷键:
   - **Windows/Linux**: `Ctrl + Shift + P`
   - **Mac**: `Cmd + Shift + P`
3. 输入: `Extensions: Install from VSIX...`
4. 选择下载的 `.vsix` 文件
5. 等待安装完成
6. 点击 **"重新加载"** 按钮,或重启 VSCode

#### 方法二: 通过扩展面板

1. 打开 VSCode
2. 点击左侧 **扩展** 图标 (或按 `Ctrl+Shift+X`)
3. 点击右上角 **"..."** 菜单
4. 选择 **"从 VSIX 安装..."**
5. 选择 `.vsix` 文件
6. 重新加载 VSCode

#### 方法三: 通过命令行

```bash
code --install-extension edaq-assistant-0.2.0.vsix
```

### 步骤 3: 验证安装

安装成功后,你会看到:
- ✅ 左侧活动栏出现 **EDA-Q Assistant** 图标 (电路板图标)
- ✅ 扩展列表中显示 **EDA-Q Assistant**
- ✅ 设置中可以搜索到 "EDA-Q" 相关配置

---

## ⚙️ 配置设置

### 必需配置: API Key

EDA-Q Assistant 使用大模型key，需要配置 API Key，这里以阿里云千问为例。

#### 步骤 1: 获取 API Key

1. 访问 [阿里云控制台](https://dashscope.console.aliyun.com/apiKey)
2. 登录你的阿里云账号
3. 创建或复制 API Key

#### 步骤 2: 在 VSCode 中配置

**方法一: 通过设置界面**

1. 打开设置:
   - **Windows/Linux**: `文件` → `首选项` → `设置`
   - **Mac**: `Code` → `首选项` → `设置`
   - 快捷键: `Ctrl+,` (Mac: `Cmd+,`)

2. 在搜索框输入: `EDA-Q`

3. 找到 **"Edaq: Qwen Api Key"**

4. 粘贴你的 API Key

**方法二: 编辑配置文件**

1. 打开命令面板: `Ctrl+Shift+P` (Mac: `Cmd+Shift+P`)
2. 输入: `Preferences: Open User Settings (JSON)`
3. 添加以下配置:

```json
{
  "edaq.qwenApiKey": "your-api-key-here"
}
```

### 可选配置

#### 选择 AI 模型

根据需求选择不同的千问模型:

- **qwen-plus** (默认) - 平衡版,性价比最高,推荐使用
- **qwen-turbo** - 快速版,响应更快,成本更低
- **qwen-max** - 增强版,能力最强,成本较高

在设置中找到 **"Edaq: Qwen Model"** 选择即可。

#### 自动读取代码上下文

- **启用** (默认): AI 会自动读取当前编辑器中的代码作为上下文
- **禁用**: 只根据你的提问回答,不读取编辑器代码

在设置中找到 **"Edaq: Enable Context From Editor"** 调整。

---

## 🌐 切换语言

EDA-Q Assistant 支持中文和英文双语界面!

### 切换步骤

1. **打开设置**: `Ctrl+,` (Mac: `Cmd+,`)

2. **搜索**: 在搜索框输入 `EDA-Q`

3. **选择语言**: 找到 **"Edaq: Language"** 配置项

4. **选择界面语言**:
   - `简体中文` - 中文界面和中文 API 文档
   - `English` - 英文界面和英文 API 文档

5. **重新加载**: 关闭并重新打开 EDA-Q Assistant 侧边栏
   - 或按 `Ctrl+R` (Mac: `Cmd+R`) 重新加载窗口

### 语言切换后会发生什么?

切换语言后,以下内容会自动更新:

✅ **界面文本**
- 标题和欢迎消息
- 快速操作按钮
- 输入框提示
- 错误消息

✅ **AI 知识库**
- 自动加载对应语言的 EDA-Q API 文档
- 中文模式: 使用中文 API 文档
- 英文模式: 使用英文 API 文档

✅ **AI 回复语言**
- AI 助手会使用选定的语言回复
- 生成的代码注释也会使用对应语言

### 示例对比

**中文模式**:
```
问: 如何设计64比特芯片?
答: 我来帮您生成代码...
    # 1. 创建Design对象
    design = Design()
```

**英文模式**:
```
Q: How to design a 64-qubit chip?
A: I'll help you generate the code...
   # 1. Create Design object
   design = Design()
```

---

## 💡 使用方法

### 启动助手

安装并配置完成后:

1. 点击 VSCode 左侧活动栏的 **EDA-Q Assistant** 图标
2. 或按 `Ctrl+Shift+P`,输入 `EDA-Q: Open AI Assistant`

### 开始对话

#### 方式一: 点击示例问题

首次打开会显示几个示例问题,点击即可快速开始:

- 📊 如何设计一个64比特的超导量子芯片?
- 🔧 生成一个4x4拓扑结构的完整代码
- 🎯 如何添加读取谐振腔?
- 📚 generate_topology有哪些参数?

#### 方式二: 输入你的问题

在底部输入框直接输入问题,例如:

```
生成一个16比特的量子芯片设计代码
```

#### 方式三: 使用快速操作

点击快速操作按钮:
- ⚡ **快速开始** - 生成完整流程代码
- 🔧 **优化代码** - 优化当前编辑器中的代码
- 💡 **解释代码** - 解释代码的作用
- 🗑️ **清空** - 清空对话历史

### 使用生成的代码

当 AI 生成代码后,每个代码块都有两个按钮:

- **📋 复制** - 复制代码到剪贴板
- **⬇️ 插入编辑器** - 直接插入到当前编辑器光标位置

### 提问技巧

#### ✅ 好的提问示例

```
生成一个4x4拓扑的完整芯片设计代码

如何添加Transmon类型的量子比特?

generate_topology方法的参数说明

这段代码有什么问题? (选中代码后提问)
```

#### ❌ 不太好的提问

```
帮我 (太笼统)

代码 (没有具体内容)

这个怎么做 (缺少上下文)
```

---

## ❓ 常见问题

### 安装相关

#### Q1: 安装后找不到插件图标?

**A**: 尝试以下步骤:
1. 重启 VSCode (`Ctrl+R` 或完全关闭重开)
2. 检查扩展列表,确认 EDA-Q Assistant 已启用
3. 查看 VSCode 开发者工具控制台是否有错误 (`帮助` → `切换开发人员工具`)

#### Q2: 提示 "无法安装扩展"?

**A**:
1. 确保 VSIX 文件完整,没有损坏
2. 检查 VSCode 版本是否 ≥ 1.80.0
3. 尝试使用命令行安装: `code --install-extension xxx.vsix`

### 配置相关

#### Q3: 配置 API Key 后仍然报错?

**A**: 检查以下几点:
1. API Key 是否正确复制 (无多余空格)
2. API Key 是否已在阿里云激活
3. 阿里云账户是否有余额
4. 网络是否可以访问阿里云服务

#### Q4: 如何查看我配置的 API Key?

**A**:
1. 打开设置: `Ctrl+,`
2. 搜索 "EDA-Q"
3. 查看 "Edaq: Qwen Api Key" 配置项

### 使用相关

#### Q5: AI 回复速度很慢?

**A**:
1. 切换到 `qwen-turbo` 模型 (速度更快)
2. 检查网络连接
3. 减少代码上下文长度 (禁用自动读取或选中更少代码)

#### Q6: AI 生成的代码不准确?

**A**:
1. 提供更详细的问题描述
2. 提供代码上下文 (在编辑器中选中相关代码)
3. 尝试使用 `qwen-max` 模型 (能力更强)

#### Q7: 如何清空对话历史?

**A**:
点击快速操作中的 **🗑️ 清空** 按钮。

#### Q8: 插入代码时提示 "请先打开Python文件"?

**A**:
1. 先创建或打开一个 `.py` 文件
2. 将光标放在想要插入代码的位置
3. 再点击 "插入编辑器" 按钮

### 语言切换相关

#### Q9: 切换语言后界面没有变化?

**A**:
1. 关闭 EDA-Q Assistant 侧边栏,重新打开
2. 或按 `Ctrl+R` (Mac: `Cmd+R`) 重新加载 VSCode 窗口

#### Q10: 可以混合使用中英文提问吗?

**A**:
可以! AI 会理解你的问题,但主要用你设置的语言回复。

### 更新相关

#### Q11: 如何更新到新版本?

**A**:
1. 从开发团队获取新的 `.vsix` 文件
2. 按照安装步骤重新安装 (会自动覆盖旧版本)
3. 重启 VSCode

#### Q12: 更新会丢失我的配置吗?

**A**:
不会! API Key 和语言设置等配置会保留。

#### Q13: 如何查看当前版本?

**A**:
1. 打开扩展面板: `Ctrl+Shift+X`
2. 搜索 "EDA-Q Assistant"
3. 查看版本号

---


## 📞 获取帮助

### 遇到问题?

1. 查看本文档的 [常见问题](#常见问题) 部分
2. 检查 VSCode 开发者工具控制台错误信息
3. 联系开发团队获取技术支持

### 反馈建议

如果你有任何建议或发现问题,欢迎联系开发团队。

---

## 🎯 快速参考

### 常用快捷键

| 操作 | Windows/Linux | Mac |
|------|--------------|-----|
| 打开设置 | `Ctrl+,` | `Cmd+,` |
| 命令面板 | `Ctrl+Shift+P` | `Cmd+Shift+P` |
| 重新加载 | `Ctrl+R` | `Cmd+R` |
| 打开扩展 | `Ctrl+Shift+X` | `Cmd+Shift+X` |

### 配置项速查

| 配置项 | 说明 | 默认值 |
|--------|------|--------|
| Language | 界面语言 | 简体中文 |
| Qwen Api Key | 千问 API 密钥 | (需填写) |
| Qwen Model | AI 模型版本 | qwen-plus |
| Enable Context | 自动读取代码 | 启用 |

---

**当前版本**: 0.2.0
**最后更新**: 2025-11-28

**祝你使用愉快! 🎉**
